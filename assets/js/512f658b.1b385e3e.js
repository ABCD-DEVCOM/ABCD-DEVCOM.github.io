"use strict";(self.webpackChunkabcd_devcom_github_io=self.webpackChunkabcd_devcom_github_io||[]).push([[9060],{28453:(e,s,i)=>{i.d(s,{R:()=>c,x:()=>t});var r=i(96540);const n={},d=r.createContext(n);function c(e){const s=r.useContext(d);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),r.createElement(d.Provider,{value:s},e.children)}},97220:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"abcd-advanced/isisscript/abcd-source/data-entry","title":"Data Entry Scripts (CRUD)","description":"Analysis of scripts responsible for creating, reading, updating and deleting records.","source":"@site/docs/abcd-advanced/isisscript/abcd-source/data-entry.md","sourceDirName":"abcd-advanced/isisscript/abcd-source","slug":"/abcd-advanced/isisscript/abcd-source/data-entry","permalink":"/docs/3.1/abcd-advanced/isisscript/abcd-source/data-entry","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/abcd-advanced/isisscript/abcd-source/data-entry.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Data Entry Scripts (CRUD)","description":"Analysis of scripts responsible for creating, reading, updating and deleting records."},"sidebar":"tutorialSidebar","previous":{"title":"ABCD Source Scripts Overview","permalink":"/docs/3.1/isisscript/abcd-source"},"next":{"title":"Search & Retrieval Scripts","permalink":"/docs/3.1/abcd-advanced/isisscript/abcd-source/search"}}');var n=i(74848),d=i(28453);const c={sidebar_position:2,title:"Data Entry Scripts (CRUD)",description:"Analysis of scripts responsible for creating, reading, updating and deleting records."},t="Data Entry Scripts",l={},a=[{value:"1. Updating Records (<code>actualizar.xis</code>)",id:"1-updating-records-actualizarxis",level:2},{value:"2. Creating New Records (<code>crear_registro.xis</code>)",id:"2-creating-new-records-crear_registroxis",level:2},{value:"3. Reading Records (<code>leer.xis</code> / <code>leer_mfnrange.xis</code>)",id:"3-reading-records-leerxis--leer_mfnrangexis",level:2},{value:"4. Deleting Records (<code>eliminarregistro.xis</code>)",id:"4-deleting-records-eliminarregistroxis",level:2},{value:"5. Record Validation (<code>validar_registro.xis</code>)",id:"5-record-validation-validar_registroxis",level:2}];function o(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"data-entry-scripts",children:"Data Entry Scripts"})}),"\n",(0,n.jsx)(s.p,{children:"These scripts are the workhorses of the Cataloging module. They handle the physical manipulation of Master File records."}),"\n",(0,n.jsxs)(s.h2,{id:"1-updating-records-actualizarxis",children:["1. Updating Records (",(0,n.jsx)(s.code,{children:"actualizar.xis"}),")"]}),"\n",(0,n.jsx)(s.p,{children:"This is arguably the most critical script in the system. It handles the saving of edited records."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"File:"})," ",(0,n.jsx)(s.code,{children:"wxis/actualizar.xis"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Primary Task:"})," ",(0,n.jsx)(s.code,{children:'<do task="update">'})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Key Operations:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsx)(s.li,{children:"Receives the MFN and database name."}),"\n",(0,n.jsx)(s.li,{children:"Receives field data via POST (CGI)."}),"\n",(0,n.jsx)(s.li,{children:"Locks the record (conceptually) or checks for locks."}),"\n",(0,n.jsx)(s.li,{children:"Executes the update."}),"\n",(0,n.jsxs)(s.li,{children:["Unlocks the record using ",(0,n.jsx)(s.code,{children:"<write>Unlock</write>"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Relation to IsisScript Reference:"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Uses ",(0,n.jsx)(s.a,{href:"../reference/do#do-task-update",children:(0,n.jsx)(s.code,{children:'<do task="update">'})})]}),"\n",(0,n.jsxs)(s.li,{children:["Uses ",(0,n.jsx)(s.a,{href:"../reference/write",children:(0,n.jsx)(s.code,{children:"<write>"})})]}),"\n",(0,n.jsxs)(s.li,{children:["Uses ",(0,n.jsx)(s.a,{href:"../reference/field#field-action-cgi",children:(0,n.jsx)(s.code,{children:'<field action="cgi">'})})]}),"\n"]}),"\n",(0,n.jsxs)(s.h2,{id:"2-creating-new-records-crear_registroxis",children:["2. Creating New Records (",(0,n.jsx)(s.code,{children:"crear_registro.xis"}),")"]}),"\n",(0,n.jsx)(s.p,{children:"Responsible for initializing a new record in the database."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"File:"})," ",(0,n.jsx)(s.code,{children:"wxis/crear_registro.xis"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Primary Task:"})," ",(0,n.jsx)(s.code,{children:'<do task="update">'})," with ",(0,n.jsx)(s.code,{children:'mfn="New"'})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Key Operations:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["It typically calls ",(0,n.jsx)(s.code,{children:'<parm name="mfn">New</parm>'}),"."]}),"\n",(0,n.jsx)(s.li,{children:"It may assign a control number automatically if configured."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.h2,{id:"3-reading-records-leerxis--leer_mfnrangexis",children:["3. Reading Records (",(0,n.jsx)(s.code,{children:"leer.xis"})," / ",(0,n.jsx)(s.code,{children:"leer_mfnrange.xis"}),")"]}),"\n",(0,n.jsx)(s.p,{children:"ABCD uses different strategies to read records depending on the context (single record edit vs. browsing)."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"leer.xis"})}),": Reads a single record, usually for editing.","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.em,{children:"Technique:"})," Likely uses ",(0,n.jsx)(s.code,{children:'<do task="mfnrange">'})," limited to a single MFN count."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"leer_mfnrange.xis"})}),': Used for the "Browse" buttons (Next/Prev).',"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.em,{children:"Technique:"})," Uses ",(0,n.jsx)(s.code,{children:'<do task="mfnrange">'})," with ",(0,n.jsx)(s.code,{children:"from"})," and ",(0,n.jsx)(s.code,{children:"count"})," parameters defined by the user's navigation."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Relation to IsisScript Reference:"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Uses ",(0,n.jsx)(s.a,{href:"../reference/do#do-task-mfnrange",children:(0,n.jsx)(s.code,{children:'<do task="mfnrange">'})})]}),"\n",(0,n.jsxs)(s.li,{children:["Uses ",(0,n.jsx)(s.a,{href:"../reference/pft",children:(0,n.jsx)(s.code,{children:"<pft>"})})," to format the output for the editor."]}),"\n"]}),"\n",(0,n.jsxs)(s.h2,{id:"4-deleting-records-eliminarregistroxis",children:["4. Deleting Records (",(0,n.jsx)(s.code,{children:"eliminarregistro.xis"}),")"]}),"\n",(0,n.jsx)(s.p,{children:"Handles the logical or physical deletion of records."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"File:"})," ",(0,n.jsx)(s.code,{children:"wxis/eliminarregistro.xis"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Primary Task:"})," ",(0,n.jsx)(s.code,{children:'<do task="update">'})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Key Operation:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"It locates the record by MFN."}),"\n",(0,n.jsxs)(s.li,{children:["It uses the ",(0,n.jsx)(s.code,{children:"<write>Delete</write>"})," command (or sets a flag indicating deletion depending on implementation)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Relation to IsisScript Reference:"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Uses ",(0,n.jsx)(s.a,{href:"../reference/write",children:(0,n.jsx)(s.code,{children:"<write>Delete</write>"})})]}),"\n"]}),"\n",(0,n.jsxs)(s.h2,{id:"5-record-validation-validar_registroxis",children:["5. Record Validation (",(0,n.jsx)(s.code,{children:"validar_registro.xis"}),")"]}),"\n",(0,n.jsxs)(s.p,{children:["Executed before saving to ensure data integrity based on validation rules (usually defined in ",(0,n.jsx)(s.code,{children:".val"})," files)."]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"File:"})," ",(0,n.jsx)(s.code,{children:"wxis/validar_registro.xis"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Key Operations:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Loads the record data."}),"\n",(0,n.jsx)(s.li,{children:"Runs a conditional PFT or a specifically crafted validation script."}),"\n",(0,n.jsx)(s.li,{children:"Returns success or error messages to the PHP interface."}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}}}]);