"use strict";(self.webpackChunkabcd_devcom_github_io=self.webpackChunkabcd_devcom_github_io||[]).push([[3217],{28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>d});var r=n(96540);const i={},s=r.createContext(i);function l(e){const t=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(s.Provider,{value:t},e.children)}},68187:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"abcd-tutorials/migration_from_cepal_to_marc","title":"Migration from CEPAL to MARC","description":"Author: Marcos Mirabal Garcia (Universidad de Pinar del R\xedo)","source":"@site/docs/abcd-tutorials/migration_from_cepal_to_marc.md","sourceDirName":"abcd-tutorials","slug":"/abcd-tutorials/migration_from_cepal_to_marc","permalink":"/docs/3.1/abcd-tutorials/migration_from_cepal_to_marc","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/abcd-tutorials/migration_from_cepal_to_marc.md","tags":[],"version":"current","frontMatter":{"title":"Migration from CEPAL to MARC","sidebar_label":"CEPAL to MARC Migration"},"sidebar":"tutorialSidebar","previous":{"title":"Koha to ABCD Migration","permalink":"/docs/3.1/abcd-tutorials/koha_abcd_migration"},"next":{"title":"ISO 2709 Standard","permalink":"/docs/3.1/abcd-tutorials/ncsi_mr_iso2709"}}');var i=n(74848),s=n(28453);const l={title:"Migration from CEPAL to MARC",sidebar_label:"CEPAL to MARC Migration"},d="Migration from CEPAL to MARC",c={},a=[{value:"1. Analysis and Field Mapping",id:"1-analysis-and-field-mapping",level:2},{value:"2. Creating the Migration Script",id:"2-creating-the-migration-script",level:2},{value:"3. Executing the Migration",id:"3-executing-the-migration",level:2},{value:"Preparation",id:"preparation",level:3},{value:"Step-by-Step Commands",id:"step-by-step-commands",level:3},{value:"A. Prepare the Source Database",id:"a-prepare-the-source-database",level:4},{value:"B. Run the Migration",id:"b-run-the-migration",level:4},{value:"C. Export to ISO for ABCD Import",id:"c-export-to-iso-for-abcd-import",level:4},{value:"4. Final Import into ABCD",id:"4-final-import-into-abcd",level:2}];function o(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"migration-from-cepal-to-marc",children:"Migration from CEPAL to MARC"})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Author:"})," Marcos Mirabal Garcia (Universidad de Pinar del R\xedo)\r\n",(0,i.jsx)(t.strong,{children:"System:"})," ABCD (Automation of Libraries and Documentation Centers)"]}),"\n",(0,i.jsxs)(t.p,{children:["This guide describes the procedure to migrate a serials database from the ",(0,i.jsx)(t.strong,{children:"CEPAL"})," format (common in Latin America) to the ",(0,i.jsx)(t.strong,{children:"MARC"})," format, which is widely used in ABCD."]}),"\n",(0,i.jsx)(t.h2,{id:"1-analysis-and-field-mapping",children:"1. Analysis and Field Mapping"}),"\n",(0,i.jsx)(t.p,{children:"The first and most critical step is to map the fields from the source format (CEPAL) to the destination format (MARC). Below is the mapping table used in this example."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"CEPAL Field"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Field Name"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"MARC Field"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"2"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Control Number"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"1"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"3"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Topographic Signature"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"84"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"16"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Personal Author (M)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"100"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"17"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Corporate Author (M)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"110"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"18"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Title (M)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"245"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"19"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Translated Title (M)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"242"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"20"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Pages"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"300"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"38"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Publisher"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"260"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"39"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"City"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"260"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"40"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Country"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"43"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"41"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Edition"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"250"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"43"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Year"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"260"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"47"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"ISBN"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"20"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"64"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Text Language"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"41"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"72"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Notes"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"500"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"76"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Topical term"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"650"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"104"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Location"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"852"})})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"2-creating-the-migration-script",children:"2. Creating the Migration Script"}),"\n",(0,i.jsxs)(t.p,{children:["Based on the mapping above, you need to create a ",(0,i.jsx)(t.strong,{children:"Procedure Script"})," (",(0,i.jsx)(t.code,{children:".prc"}),"). This script uses the CISIS formatting language to transform the data during the process."]}),"\n",(0,i.jsxs)(t.p,{children:["Create a file named ",(0,i.jsx)(t.code,{children:"migration.prc"})," with the following content:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-pft",children:"/* Delete all existing fields first */\r\n'd*',\r\n\r\n/* Add fixed MARC Leader fields (Tags 3000+) */\r\n'<3005>n</3005>',\r\n'<3006>a</3006>',\r\n'<3007>m</3007>',\r\n'<3008>0</3008>',\r\n'<3017>5</3017>',\r\n'<3018>a</3018>',\r\n'<3019>0</3019>',\r\n\r\n/* Migrate Data Fields */\r\n/* If field exists in CEPAL (p), wrap content in MARC tags */\r\n\r\nif p(v2)   then '<1>',v2,'</1>' else '<1>',mfn,'</1>' fi,\r\nif p(v3)   then '<84>^a',v3,'</84>' fi,\r\nif p(v16)  then '<100>^a',v16,'</100>' fi,\r\nif p(v17)  then '<110>^a',v17,'</110>' fi,\r\nif p(v18)  then '<245>^a',v18,'</245>' fi,\r\nif p(v19)  then '<242>^a',v19,'</242>' fi,\r\nif p(v20)  then '<300>^a',v20,'</300>' fi,\r\nif p(v38)  then '<260>^b',v38,'</260>' fi,\r\nif p(v39)  then '<260>^a',v39,'</260>' fi,\r\nif p(v40)  then '<43>^a',v40,'</43>' fi,\r\nif p(v41)  then '<250>^a',v41,'</250>' fi,\r\nif p(v43)  then '<260>^c',v43,'</260>' fi,\r\nif p(v47)  then '<20>^a',v47,'</20>' fi,\r\nif p(v64)  then '<41>^a',v64,'</41>' fi,\r\nif p(v72)  then '<500>^a',v72,'</500>' fi,\r\nif p(v76)  then '<650>^a',v76,'</650>' fi,\r\nif p(v104) then '<852>^a',v104,'</852>' fi\r\n\n"})}),"\n",(0,i.jsx)(t.h2,{id:"3-executing-the-migration",children:"3. Executing the Migration"}),"\n",(0,i.jsxs)(t.p,{children:["The migration is performed using the ",(0,i.jsx)(t.code,{children:"mx"})," utility via the command line."]}),"\n",(0,i.jsx)(t.h3,{id:"preparation",children:"Preparation"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Create a working folder."}),"\n",(0,i.jsxs)(t.li,{children:["Copy your database files (e.g., ",(0,i.jsx)(t.code,{children:"cepal.mst"}),", ",(0,i.jsx)(t.code,{children:"cepal.xrf"}),") to this folder."]}),"\n",(0,i.jsxs)(t.li,{children:["Copy the ",(0,i.jsx)(t.code,{children:"migration.prc"})," file created in Step 2 to this folder."]}),"\n",(0,i.jsxs)(t.li,{children:["Ensure you have the ",(0,i.jsx)(t.code,{children:"mx"})," executable (compatible with your database version) accessible."]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"step-by-step-commands",children:"Step-by-Step Commands"}),"\n",(0,i.jsx)(t.h4,{id:"a-prepare-the-source-database",children:"A. Prepare the Source Database"}),"\n",(0,i.jsx)(t.p,{children:"If your source is an ISO file, import it first."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Windows:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-cmd",children:"mx iso=source.iso create=cepal -all now\r\n\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Linux:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"./mx iso=source.iso create=cepal -all now\r\n\n"})}),"\n",(0,i.jsx)(t.h4,{id:"b-run-the-migration",children:"B. Run the Migration"}),"\n",(0,i.jsxs)(t.p,{children:["Apply the procedure script to convert records from CEPAL to MARC. This creates a temporary database (e.g., ",(0,i.jsx)(t.code,{children:"temp_marc"}),")."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Windows:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-cmd",children:"mx cepal proc=@migration.prc create=temp_marc -all now\r\n\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Linux:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"./mx cepal proc=@migration.prc create=temp_marc -all now\r\n\n"})}),"\n",(0,i.jsx)(t.h4,{id:"c-export-to-iso-for-abcd-import",children:"C. Export to ISO for ABCD Import"}),"\n",(0,i.jsxs)(t.p,{children:["Export the converted database to an ISO file. We use ",(0,i.jsx)(t.code,{children:"outisotag1=3000"})," to preserve the standard MARC leader fields generated in the script."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Windows:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-cmd",children:"mx temp_marc iso=marc_import.iso outisotag1=3000 -all now\r\n\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Linux:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"./mx temp_marc iso=marc_import.iso outisotag1=3000 -all now\r\n\n"})}),"\n",(0,i.jsx)(t.h2,{id:"4-final-import-into-abcd",children:"4. Final Import into ABCD"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Access your ABCD interface."}),"\n",(0,i.jsxs)(t.li,{children:["Create a ",(0,i.jsx)(t.strong,{children:"New Database"})," (e.g., ",(0,i.jsx)(t.code,{children:"Books"}),") using the standard ",(0,i.jsx)(t.strong,{children:"MARC"})," structure."]}),"\n",(0,i.jsxs)(t.li,{children:["Go to ",(0,i.jsx)(t.strong,{children:"Utilities > Import ISO"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Select the ",(0,i.jsx)(t.code,{children:"marc_import.iso"})," file generated in Step 3C."]}),"\n",(0,i.jsx)(t.li,{children:"Run the import."}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["You have now successfully converted a CEPAL database structure into a MARC database structure. This logic can be adapted to migrate between any other formats by modifying the mapping table and the ",(0,i.jsx)(t.code,{children:".prc"})," script."]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);