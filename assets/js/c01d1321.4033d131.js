"use strict";(self.webpackChunkabcd_devcom_github_io=self.webpackChunkabcd_devcom_github_io||[]).push([[9030],{28453:(e,s,n)=>{n.d(s,{R:()=>d,x:()=>l});var i=n(96540);const r={},t=i.createContext(r);function d(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(t.Provider,{value:s},e.children)}},94275:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"abcd-advanced/cisis-utilities/mx","title":"MX Utility","description":"MX is the general-purpose utility for CDS/ISIS databases (CISIS). It acts as the \\"Swiss Army Knife\\" of the suite, capable of reading, writing, filtering, formatting, and exporting data.","source":"@site/docs/abcd-advanced/cisis-utilities/mx.md","sourceDirName":"abcd-advanced/cisis-utilities","slug":"/abcd-advanced/cisis-utilities/mx","permalink":"/docs/3.1/abcd-advanced/cisis-utilities/mx","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/abcd-advanced/cisis-utilities/mx.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"MX Utility","sidebar_label":"MX (The Swiss Army Knife)","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"CISIS Utilities","permalink":"/docs/3.1/cisis-utilities"},"next":{"title":"Maintenance (Clean/Sort/Lock)","permalink":"/docs/3.1/abcd-advanced/cisis-utilities/maintenance"}}');var r=n(74848),t=n(28453);const d={title:"MX Utility",sidebar_label:"MX (The Swiss Army Knife)",sidebar_position:2},l="MX Utility",a={},c=[{value:"Basic Syntax",id:"basic-syntax",level:2},{value:"Full Parameter List",id:"full-parameter-list",level:3},{value:"Core Operations",id:"core-operations",level:2},{value:"1. Import &amp; Export (ISO-2709)",id:"1-import--export-iso-2709",level:3},{value:"2. Database Maintenance",id:"2-database-maintenance",level:3},{value:"3. Filtering and Searching",id:"3-filtering-and-searching",level:3},{value:"4. Joining Databases",id:"4-joining-databases",level:3},{value:"5. Global Changes (Gizmo)",id:"5-global-changes-gizmo",level:3},{value:"Inverted File Generation",id:"inverted-file-generation",level:2},{value:"Q&amp;A / Common Issues",id:"qa--common-issues",level:2},{value:"Exporting tags &gt; 3000",id:"exporting-tags--3000",level:3},{value:"Unix vs. Windows Line Breaks",id:"unix-vs-windows-line-breaks",level:3}];function o(e){const s={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"mx-utility",children:"MX Utility"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"MX"}),' is the general-purpose utility for CDS/ISIS databases (CISIS). It acts as the "Swiss Army Knife" of the suite, capable of reading, writing, filtering, formatting, and exporting data.']}),"\n",(0,r.jsxs)(s.p,{children:["Unlike other specific tools (like ",(0,r.jsx)(s.code,{children:"id2i"})," or ",(0,r.jsx)(s.code,{children:"mst2iso"}),"), MX unifies almost all operations in a single executable. It allows free-text searches even without an inverted file and can perform complex data transformations on the fly."]}),"\n",(0,r.jsx)(s.h2,{id:"basic-syntax",children:"Basic Syntax"}),"\n",(0,r.jsx)(s.p,{children:"Execution without parameters shows the help screen and version:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"mx [cipar=<file>] [db=]<database> [parameters...]\r\n\n"})}),"\n",(0,r.jsx)(s.h3,{id:"full-parameter-list",children:"Full Parameter List"}),"\n",(0,r.jsx)(s.p,{children:"Based on the official help output, here are the available parameters grouped by function:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Parameter"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Input/Output"})}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"db=<name>"})}),(0,r.jsx)(s.td,{children:"The master file (database) to read from."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"iso=<file>"})}),(0,r.jsx)(s.td,{children:"Input or Output ISO-2709 file."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"in=<file>"})}),(0,r.jsx)(s.td,{children:"Input text file (optional alternative to DB)."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"out=<file>"})}),(0,r.jsx)(s.td,{children:"Output text file (redirects standard output)."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"create=<name>"})}),(0,r.jsxs)(s.td,{children:["Creates a ",(0,r.jsx)(s.strong,{children:"new"})," database with the records processed."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"append=<name>"})}),(0,r.jsxs)(s.td,{children:["Appends records to an ",(0,r.jsx)(s.strong,{children:"existing"})," database."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"copy=<name>"})}),(0,r.jsx)(s.td,{children:"Copies records to another database (similar to create/append)."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Selection & filtering"})}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"from=<mfn>"})}),(0,r.jsx)(s.td,{children:"Start processing from this MFN."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"to=<mfn>"})}),(0,r.jsx)(s.td,{children:"Stop processing at this MFN."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"count=<n>"})}),(0,r.jsxs)(s.td,{children:["Process a maximum of ",(0,r.jsx)(s.code,{children:"n"})," records."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"bool=<expr>"})}),(0,r.jsx)(s.td,{children:"Filter records using a Boolean expression (Search)."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Processing"})}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"pft=<format>"})}),(0,r.jsx)(s.td,{children:"Apply a PFT format to the output."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"proc=<format>"})}),(0,r.jsx)(s.td,{children:"Apply a modification procedure (add/delete fields) in memory."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"gizmo=<db>"})}),(0,r.jsx)(s.td,{children:"Apply a global search/replace using a Gizmo database."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"join=<db>"})}),(0,r.jsx)(s.td,{children:"Merge data from another database."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"System"})}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"cipar=<file>"})}),(0,r.jsx)(s.td,{children:"Path to the configuration file mapping database paths."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"tell=<n>"})}),(0,r.jsxs)(s.td,{children:["Display progress status every ",(0,r.jsx)(s.code,{children:"n"})," records processed."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"-all"})}),(0,r.jsx)(s.td,{children:"Process deleted records (logically deleted records are usually skipped)."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"now"})}),(0,r.jsx)(s.td,{children:'Suppress "Press any key" prompts (Batch mode).'})]})]})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"core-operations",children:"Core Operations"}),"\n",(0,r.jsx)(s.h3,{id:"1-import--export-iso-2709",children:"1. Import & Export (ISO-2709)"}),"\n",(0,r.jsxs)(s.p,{children:["MX converts records between Master Files (",(0,r.jsx)(s.code,{children:".mst"}),") and the exchange format ISO-2709."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"Export to ISO:"})}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"mx mydb iso=output.iso -all now\r\n\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"Tip:"})," Append parameters to ",(0,r.jsx)(s.code,{children:"iso="})," to modify the format."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"iso=output.iso,marc"}),": Creates a MARC-tagged ISO (tags 1-999)."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"iso=output.iso,linux"}),": Uses Line Feed (LF) instead of CRLF."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Import from ISO:"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"/* Create a new database */\r\nmx iso=input.iso create=newdb -all now\r\n\r\n/* Append to existing database */\r\nmx iso=input.iso append=existingdb -all now\r\n\n"})}),"\n",(0,r.jsx)(s.h3,{id:"2-database-maintenance",children:"2. Database Maintenance"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Copying a Database:"}),"\r\nUseful for backups or compacting (removing deleted records)."]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"mx db=source create=backup -all now\r\n\n"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Modifying Records (Proc):"}),"\r\nThe ",(0,r.jsx)(s.code,{children:"proc"})," parameter allows you to manipulate fields on the fly using the formatting language."]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"/* Delete tag 50 and add tag 99 */\r\nmx mydb \"proc='d50a99~New Data~'\" copy=newdb\r\n\n"})}),"\n",(0,r.jsx)(s.h3,{id:"3-filtering-and-searching",children:"3. Filtering and Searching"}),"\n",(0,r.jsx)(s.p,{children:"MX can filter records sequentially or using the inverted file."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Sequential Search (No Index needed):"}),"\r\nUsing the ",(0,r.jsx)(s.code,{children:"p"})," (presence) or ",(0,r.jsx)(s.code,{children:"val"})," commands in a conditional PFT."]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'mx mydb "pft=if p(v10) then mfn/ fi" now\r\n\n'})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Boolean Search (Uses Index):"}),"\r\nUses the ",(0,r.jsx)(s.code,{children:"bool"})," parameter."]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'mx mydb "bool=WATER * SOIL" iso=subset.iso\r\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"4-joining-databases",children:"4. Joining Databases"}),"\n",(0,r.jsx)(s.p,{children:"Merges data from another database into the current stream based on a common key."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Syntax:"})," ",(0,r.jsx)(s.code,{children:"join=<db>:<format_key>=<format_display>"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Example:"}),"\r\nJoin ",(0,r.jsx)(s.code,{children:"users"})," database into ",(0,r.jsx)(s.code,{children:"loans"})," where ",(0,r.jsx)(s.code,{children:"v10"})," in loans matches the key in users."]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'mx loans join=users:v10="User Name: "v20\r\n\n'})}),"\n",(0,r.jsx)(s.h3,{id:"5-global-changes-gizmo",children:"5. Global Changes (Gizmo)"}),"\n",(0,r.jsx)(s.p,{children:"Uses a dictionary database to replace strings globally."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Syntax:"})," ",(0,r.jsx)(s.code,{children:"gizmo=<gizmo_db>,<taglist>"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Usage:"}),' Useful for cleaning up authority lists (e.g., changing "USA" to "United States" in all records automatically).']}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"inverted-file-generation",children:"Inverted File Generation"}),"\n",(0,r.jsxs)(s.p,{children:["While ",(0,r.jsx)(s.code,{children:"fullinv"})," is the dedicated tool for indexing, ",(0,r.jsx)(s.code,{children:"mx"})," can also generate Inverted Files (",(0,r.jsx)(s.code,{children:".ifp"}),", ",(0,r.jsx)(s.code,{children:".cnt"}),", ",(0,r.jsx)(s.code,{children:".n01"}),", etc.). This is often preferred in scripts because ",(0,r.jsx)(s.code,{children:"mx"})," is more robust."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Syntax:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"mx <db> fst=@<fst_file> fullinv=<db_name> [actab=...] [uctab=...] -all now\r\n\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"fst=@file.fst"})}),": The path to the Field Selection Table."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"fullinv=<name>"})}),": The name of the inverted file to create (usually matches the DB name)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"actab/uctab"})}),": Character conversion tables (optional but recommended for ANSI/UTF-8 consistency)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"tell=100"})}),": Show progress every 100 records."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Example:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"mx cds fst=@cds.fst fullinv=cds -all now tell=100\r\n\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"qa--common-issues",children:"Q&A / Common Issues"}),"\n",(0,r.jsx)(s.h3,{id:"exporting-tags--3000",children:"Exporting tags > 3000"}),"\n",(0,r.jsx)(s.p,{children:"The original ISO-2709 standard limits tags to 3 digits (001-999). CISIS supports 4 or 5 digits, but exporting them to ISO requires special handling."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Problem:"})," Tags like ",(0,r.jsx)(s.code,{children:"3000"})," might be truncated or ignored in standard ISO export."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Solution:"})," Use the parameter ",(0,r.jsx)(s.code,{children:"outisotag1=<tag>"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"mx mydb iso=output.iso outisotag1=3000 now\r\n\n"})}),"\n",(0,r.jsx)(s.p,{children:"This forces MX to treat tags starting from 3000 correctly in the extension block."}),"\n",(0,r.jsx)(s.h3,{id:"unix-vs-windows-line-breaks",children:"Unix vs. Windows Line Breaks"}),"\n",(0,r.jsx)(s.p,{children:"When moving data between Linux and Windows, line endings in ISO files can cause issues."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Use ",(0,r.jsx)(s.code,{children:"iso=filename,linux"})," to force LF (Unix style)."]}),"\n",(0,r.jsxs)(s.li,{children:["Use ",(0,r.jsx)(s.code,{children:"iso=filename,dos"})," to force CRLF (Windows style)."]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);