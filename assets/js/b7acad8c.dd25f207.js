"use strict";(self.webpackChunkabcd_devcom_github_io=self.webpackChunkabcd_devcom_github_io||[]).push([[3950],{28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>d});var r=s(96540);const i={},t=r.createContext(i);function o(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:n},e.children)}},90344:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"abcd-install/upgrade","title":"Upgrade Guide","description":"There are two ways to upgrade ABCD: using the Update Manager (for recent versions) or manually (for legacy versions).","source":"@site/docs/abcd-install/upgrade.md","sourceDirName":"abcd-install","slug":"/abcd-install/upgrade","permalink":"/docs/3.1/abcd-install/upgrade","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/abcd-install/upgrade.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"sidebar_label":"Upgrade Guide","sidebar_custom_props":{"myEmoji":"\ud83d\udd03"}},"sidebar":"tutorialSidebar","previous":{"title":"Virtual Host Config","permalink":"/docs/3.1/abcd-install/virtual-host"},"next":{"title":"Testing Apache (VHost)","permalink":"/docs/3.1/abcd-install/apache-troubleshooting"}}');var i=s(74848),t=s(28453);const o={sidebar_position:6,sidebar_label:"Upgrade Guide",sidebar_custom_props:{myEmoji:"\ud83d\udd03"}},d="Upgrade Guide",l={},a=[{value:"Method 1: Update Manager (Recommended)",id:"method-1-update-manager-recommended",level:2},{value:"Method 2: Manual Upgrade (Legacy Installations)",id:"method-2-manual-upgrade-legacy-installations",level:2},{value:"Cleaning Old Scripts",id:"cleaning-old-scripts",level:3}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"upgrade-guide",children:"Upgrade Guide"})}),"\n",(0,i.jsxs)(n.p,{children:["There are two ways to upgrade ABCD: using the ",(0,i.jsx)(n.strong,{children:"Update Manager"})," (for recent versions) or manually (for legacy versions)."]}),"\n",(0,i.jsx)(n.h2,{id:"method-1-update-manager-recommended",children:"Method 1: Update Manager (Recommended)"}),"\n",(0,i.jsx)(n.p,{children:"Starting from version 2.3.4, ABCD includes an interactive update tool."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Go to: ",(0,i.jsx)(n.code,{children:"<your-abcd-url>/update_manager.php"})]}),"\n",(0,i.jsxs)(n.li,{children:["Alternatively, click ",(0,i.jsx)(n.strong,{children:"Check for Updates"})," in the footer of the Central module home page (if the yellow notification appears)."]}),"\n",(0,i.jsx)(n.li,{children:"Follow the on-screen instructions. The system will download differences from GitHub and apply them."}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{title:"Requirement",type:"info",children:(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"php-zip"})," extension must be installed, and the web server must have write permissions on the ",(0,i.jsx)(n.code,{children:"htdocs"})," folder."]})}),"\n",(0,i.jsx)(n.h2,{id:"method-2-manual-upgrade-legacy-installations",children:"Method 2: Manual Upgrade (Legacy Installations)"}),"\n",(0,i.jsx)(n.p,{children:"If you are upgrading from a very old version, follow these steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Backup:"})," Create a full backup of your ",(0,i.jsx)(n.code,{children:"bases"})," and ",(0,i.jsx)(n.code,{children:"htdocs"})," folders."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Preserve Configuration:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Do ",(0,i.jsx)(n.strong,{children:"not"})," overwrite your ",(0,i.jsx)(n.code,{children:"htdocs/central/config.php"})," if you have customized it."]}),"\n",(0,i.jsxs)(n.li,{children:["If the new package only provides ",(0,i.jsx)(n.code,{children:"config.php.template"}),", compare it with your current file and add new variables if necessary."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Replace Files:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Replace the ",(0,i.jsx)(n.code,{children:"htdocs"})," and ",(0,i.jsx)(n.code,{children:"cgi-bin"})," folders with the files from the new version."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"NEVER"})," overwrite the entire ",(0,i.jsx)(n.code,{children:"bases"})," folder, or you will lose your data. Only add new example databases if desired."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"cleaning-old-scripts",children:"Cleaning Old Scripts"}),"\n",(0,i.jsx)(n.p,{children:"In very old versions, some PFT files contained embedded JavaScript that causes conflicts with modern browsers."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsxs)(n.strong,{children:["1. File: ",(0,i.jsx)(n.code,{children:"bases/www/epilogoact.pft"})]}),"\r\nRemove the script block that sets ",(0,i.jsx)(n.code,{children:"top.mfn"}),". The entire ",(0,i.jsx)(n.code,{children:"<script> ... <\/script>"})," block should be deleted from this file."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsxs)(n.strong,{children:["2. File: ",(0,i.jsx)(n.code,{children:"bases/www/prologoact.pft"})]}),"\r\nUpdate the path to the highlight library."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Change:"})," ",(0,i.jsx)(n.code,{children:'<script ... src="/iah/js/highlight.js">'})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"To:"})," ",(0,i.jsx)(n.code,{children:'<script ... src="/central/dataentry/js/highlight.js">'})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);