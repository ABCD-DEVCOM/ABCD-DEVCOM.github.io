"use strict";(self.webpackChunkabcd_devcom_github_io=self.webpackChunkabcd_devcom_github_io||[]).push([[949],{28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>l});var s=i(96540);const r={},c=s.createContext(r);function t(e){const n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(c.Provider,{value:n},e.children)}},97542:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"abcd-advanced/isisscript/abcd-source/maintenance","title":"Maintenance & Utilities","description":"Scripts for database maintenance, indexing, sorting, and unlocking.","source":"@site/versioned_docs/version-2.0/abcd-advanced/isisscript/abcd-source/maintenance.md","sourceDirName":"abcd-advanced/isisscript/abcd-source","slug":"/abcd-advanced/isisscript/abcd-source/maintenance","permalink":"/docs/2.0/abcd-advanced/isisscript/abcd-source/maintenance","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/versioned_docs/version-2.0/abcd-advanced/isisscript/abcd-source/maintenance.md","tags":[],"version":"2.0","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Maintenance & Utilities","description":"Scripts for database maintenance, indexing, sorting, and unlocking."},"sidebar":"tutorialSidebar","previous":{"title":"Search & Retrieval Scripts","permalink":"/docs/2.0/abcd-advanced/isisscript/abcd-source/search"},"next":{"title":"Authentication & System","permalink":"/docs/2.0/abcd-advanced/isisscript/abcd-source/auth-system"}}');var r=i(74848),c=i(28453);const t={sidebar_position:4,title:"Maintenance & Utilities",description:"Scripts for database maintenance, indexing, sorting, and unlocking."},l="Maintenance & Utilities Scripts",a={},d=[{value:"1. Full Inversion (<code>fullinv.xis</code>)",id:"1-full-inversion-fullinvxis",level:2},{value:"2. Database Initialization (<code>inicializar_bd.xis</code>)",id:"2-database-initialization-inicializar_bdxis",level:2},{value:"3. Sorting Records (<code>sort.xis</code>)",id:"3-sorting-records-sortxis",level:2},{value:"4. Unlocking (<code>unlock.xis</code> / <code>lock.xis</code>)",id:"4-unlocking-unlockxis--lockxis",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"maintenance--utilities-scripts",children:"Maintenance & Utilities Scripts"})}),"\n",(0,r.jsx)(n.p,{children:'These scripts perform administrative tasks that affect the physical structure or the status of the databases. They are typically accessed via the "Maintenance" menu in the ABCD Central module.'}),"\n",(0,r.jsxs)(n.h2,{id:"1-full-inversion-fullinvxis",children:["1. Full Inversion (",(0,r.jsx)(n.code,{children:"fullinv.xis"}),")"]}),"\n",(0,r.jsx)(n.p,{children:"This is one of the most resource-intensive scripts. It regenerates the Inverted File (Search Index) based on the database's FST (Field Select Table)."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"File:"})," ",(0,r.jsx)(n.code,{children:"wxis/fullinv.xis"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Primary Task:"})," ",(0,r.jsx)(n.code,{children:'<do task="fullinvertion">'})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Key Parameters:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"db"}),": The database to index."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"fst"}),": The path to the ",(0,r.jsx)(n.code,{children:".fst"})," file containing extraction rules."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"stw"}),": (Optional) Stopwords file."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"actab"})," / ",(0,r.jsx)(n.code,{children:"uctab"}),": Character conversion tables to ensure correct sorting/indexing."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Process:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"It locks the database to prevent writes during indexing."}),"\n",(0,r.jsx)(n.li,{children:"It executes the inversion (extraction + sorting + loading keys)."}),"\n",(0,r.jsxs)(n.li,{children:["It updates the ",(0,r.jsx)(n.code,{children:"control"})," number (Next MFN)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Relation to IsisScript Reference:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Uses ",(0,r.jsx)(n.a,{href:"../reference/do#do-task-fullinvertion",children:(0,r.jsx)(n.code,{children:'<do task="fullinvertion">'})})]}),"\n",(0,r.jsxs)(n.li,{children:["Uses ",(0,r.jsx)(n.a,{href:"../reference/parm",children:(0,r.jsx)(n.code,{children:'<parm name="actab">'})})]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"2-database-initialization-inicializar_bdxis",children:["2. Database Initialization (",(0,r.jsx)(n.code,{children:"inicializar_bd.xis"}),")"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Warning:"})," This script creates a new, empty database structure. If run on an existing database without backup, ",(0,r.jsx)(n.strong,{children:"it wipes all data"}),"."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"File:"})," ",(0,r.jsx)(n.code,{children:"wxis/inicializar_bd.xis"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Primary Operation:"})," ",(0,r.jsx)(n.code,{children:'<file action="create">'})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Logic:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Receives the database name."}),"\n",(0,r.jsxs)(n.li,{children:["Executes ",(0,r.jsx)(n.code,{children:'<file action="create" type="database">'})," which creates the Master File (.mst/.xrf) and an empty Inverted File."]}),"\n",(0,r.jsx)(n.li,{children:"Often resets the Control Number (CN) to 0."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Relation to IsisScript Reference:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Uses ",(0,r.jsx)(n.a,{href:"../reference/file",children:(0,r.jsx)(n.code,{children:'<file action="create" type="database">'})})]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"3-sorting-records-sortxis",children:["3. Sorting Records (",(0,r.jsx)(n.code,{children:"sort.xis"}),")"]}),"\n",(0,r.jsx)(n.p,{children:"Physically sorts the Master File records based on a PFT expression or a Key."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"File:"})," ",(0,r.jsx)(n.code,{children:"wxis/sort.xis"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Primary Task:"})," ",(0,r.jsx)(n.code,{children:'<do task="mastersort">'})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Key Parameters:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"key"}),": The PFT expression that defines the sort order (e.g., ",(0,r.jsx)(n.code,{children:"v100^a"}),")."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Usage:"})," Used when the library needs records physically ordered by Author or Title (e.g., for printing sequential catalogs), although virtual sorting is preferred in modern usage."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Relation to IsisScript Reference:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Uses ",(0,r.jsx)(n.a,{href:"../reference/do#do-task-mastersort",children:(0,r.jsx)(n.code,{children:'<do task="mastersort">'})})]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"4-unlocking-unlockxis--lockxis",children:["4. Unlocking (",(0,r.jsx)(n.code,{children:"unlock.xis"})," / ",(0,r.jsx)(n.code,{children:"lock.xis"}),")"]}),"\n",(0,r.jsx)(n.p,{children:"Handles the concurrency control mechanisms."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"File:"})," ",(0,r.jsx)(n.code,{children:"wxis/unlock.xis"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Primary Operation:"})," ",(0,r.jsx)(n.code,{children:'<file action="unlock">'})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Usage:"}),' Sometimes a web server crash or a user closing the browser improperly leaves a record or database in a "locked" state. This script forces the removal of these locks.']}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Relation to IsisScript Reference:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Uses ",(0,r.jsx)(n.a,{href:"../reference/file",children:(0,r.jsx)(n.code,{children:'<file action="unlock">'})})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);