"use strict";(self.webpackChunkabcd_devcom_github_io=self.webpackChunkabcd_devcom_github_io||[]).push([[3324],{28453:(e,s,d)=>{d.d(s,{R:()=>l,x:()=>r});var n=d(96540);const t={},i=n.createContext(t);function l(e){const s=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),n.createElement(i.Provider,{value:s},e.children)}},78397:(e,s,d)=>{d.r(s),d.d(s,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"abcd-advanced/format-language/guide/subfields","title":"Field & Subfield Selection","description":"Learn how to extract specific parts of a field using offsets, lengths, and subfield delimiters.","source":"@site/versioned_docs/version-2.0/abcd-advanced/format-language/guide/subfields.md","sourceDirName":"abcd-advanced/format-language/guide","slug":"/abcd-advanced/format-language/guide/subfields","permalink":"/docs/2.0/abcd-advanced/format-language/guide/subfields","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/versioned_docs/version-2.0/abcd-advanced/format-language/guide/subfields.md","tags":[],"version":"2.0","frontMatter":{"title":"Field & Subfield Selection","description":"Learn how to extract specific parts of a field using offsets, lengths, and subfield delimiters."},"sidebar":"tutorialSidebar","previous":{"title":"Sorting Records","permalink":"/docs/2.0/abcd-advanced/format-language/guide/sorting"},"next":{"title":"Data Validation","permalink":"/docs/2.0/abcd-advanced/format-language/guide/validation"}}');var t=d(74848),i=d(28453);const l={title:"Field & Subfield Selection",description:"Learn how to extract specific parts of a field using offsets, lengths, and subfield delimiters."},r="Field & Subfield Selection",c={},a=[{value:"1. Basic Extraction (<code>v</code>)",id:"1-basic-extraction-v",level:2},{value:"2. Subfields (<code>^</code>)",id:"2-subfields-",level:2},{value:"3. Offset and Length",id:"3-offset-and-length",level:2},{value:"4. Mode Modifiers",id:"4-mode-modifiers",level:2},{value:"Separators for Repeatable Fields",id:"separators-for-repeatable-fields",level:3},{value:"Empty/Absent Fields (<code>d</code> and <code>n</code>)",id:"emptyabsent-fields-d-and-n",level:3},{value:"Summary Table",id:"summary-table",level:2}];function o(e){const s={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"field--subfield-selection",children:"Field & Subfield Selection"})}),"\n",(0,t.jsxs)(s.p,{children:["The most fundamental operation in PFT is extracting data from the record. While ",(0,t.jsx)(s.code,{children:"v10"})," gets the whole field, CISIS provides powerful modifiers to extract exactly what you need."]}),"\n",(0,t.jsxs)(s.h2,{id:"1-basic-extraction-v",children:["1. Basic Extraction (",(0,t.jsx)(s.code,{children:"v"}),")"]}),"\n",(0,t.jsxs)(s.p,{children:["The command ",(0,t.jsx)(s.code,{children:"v"})," (Value) followed by the Tag Number extracts the field's content."]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Format:"})," ",(0,t.jsx)(s.code,{children:"vTag"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," ",(0,t.jsx)(s.code,{children:"v24"})," gets the content of the Title field."]}),"\n"]}),"\n",(0,t.jsxs)(s.h2,{id:"2-subfields-",children:["2. Subfields (",(0,t.jsx)(s.code,{children:"^"}),")"]}),"\n",(0,t.jsxs)(s.p,{children:["In MARC and ABCD records, fields are often divided into subfields using a delimiter (usually ",(0,t.jsx)(s.code,{children:"^"})," or ",(0,t.jsx)(s.code,{children:"$"}),") and a single letter/number identifier."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example Data (Tag 70):"})," ",(0,t.jsx)(s.code,{children:"^aDoe^bJohn"})]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Command"}),(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Result"}),(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Notes"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"v70"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"DoeJohn"})}),(0,t.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,t.jsx)(s.strong,{children:"Warning:"})," Standard extraction removes delimiters but does ",(0,t.jsx)(s.em,{children:"not"})," add spaces."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"v70^a"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"Doe"})}),(0,t.jsxs)(s.td,{style:{textAlign:"left"},children:["Extracts only subfield ",(0,t.jsx)(s.code,{children:"a"}),"."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"v70^b"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"John"})}),(0,t.jsxs)(s.td,{style:{textAlign:"left"},children:["Extracts only subfield ",(0,t.jsx)(s.code,{children:"b"}),"."]})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Best Practice:"}),"\r\nAlways format subfields explicitly to control punctuation:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-pft",children:'v70^b, " ", v70^a\r\n/* Result: John Doe */\r\n\n'})}),"\n",(0,t.jsx)(s.h2,{id:"3-offset-and-length",children:"3. Offset and Length"}),"\n",(0,t.jsx)(s.p,{children:"You can extract a substring based on character position (byte offset) and length."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Syntax:"})," ",(0,t.jsx)(s.code,{children:"vTag*Offset.Length"})]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"*Offset"})}),": The starting character position (0-based)."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:".Length"})}),": The number of characters to extract."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example Data (Tag 10):"})," ",(0,t.jsx)(s.code,{children:"2023-10-27"})]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Command"}),(0,t.jsx)(s.th,{children:"Result"}),(0,t.jsx)(s.th,{children:"Explanation"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"v10.4"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"2023"})}),(0,t.jsx)(s.td,{children:"Get first 4 chars (Year)."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"v10*5.2"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"10"})}),(0,t.jsxs)(s.td,{children:["Skip 5 chars (",(0,t.jsx)(s.code,{children:"2023-"}),"), take next 2 (Month)."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"v10*8"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"27"})}),(0,t.jsx)(s.td,{children:"Skip 8 chars, take the rest (Day)."})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"4-mode-modifiers",children:"4. Mode Modifiers"}),"\n",(0,t.jsx)(s.p,{children:"You can define how the extracted data behaves regarding repeated occurrences or display formatting."}),"\n",(0,t.jsx)(s.h3,{id:"separators-for-repeatable-fields",children:"Separators for Repeatable Fields"}),"\n",(0,t.jsxs)(s.p,{children:["If Tag 70 has 3 occurrences (Authors), ",(0,t.jsx)(s.code,{children:"v70"})," joins them together. You can specify a separator using the ",(0,t.jsx)(s.code,{children:"+|...|"})," syntax."]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Syntax:"})," ",(0,t.jsx)(s.code,{children:"vTag+|Separator|"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," ",(0,t.jsx)(s.code,{children:"v70+|; |"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Output:"})," ",(0,t.jsx)(s.code,{children:"Author A; Author B; Author C"})]}),"\n"]}),"\n",(0,t.jsxs)(s.h3,{id:"emptyabsent-fields-d-and-n",children:["Empty/Absent Fields (",(0,t.jsx)(s.code,{children:"d"})," and ",(0,t.jsx)(s.code,{children:"n"}),")"]}),"\n",(0,t.jsx)(s.p,{children:"Sometimes you want to display a label only if the field exists (or doesn't)."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:'dTag "Label"'})}),': Displays "Label" if Tag exists (Dummy selector).']}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:'d24 "Title: "'})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:'nTag "Label"'})}),': Displays "Label" if Tag is ABSENT (Null selector).']}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:'n20 "ISBN Missing!"'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"summary-table",children:"Summary Table"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Syntax"}),(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Use Case"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"v10"})}),(0,t.jsx)(s.td,{children:"Value"}),(0,t.jsx)(s.td,{children:"Full content."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"v10^a"})}),(0,t.jsx)(s.td,{children:"Subfield"}),(0,t.jsx)(s.td,{children:"Specific part (e.g., surname)."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"v10*0.5"})}),(0,t.jsx)(s.td,{children:"Substring"}),(0,t.jsx)(s.td,{children:"Fixed-width data (dates, codes)."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"(v10/)"})}),(0,t.jsx)(s.td,{children:"Group"}),(0,t.jsx)(s.td,{children:"Iterate repeatable fields on new lines."})]})]})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{})})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}}}]);