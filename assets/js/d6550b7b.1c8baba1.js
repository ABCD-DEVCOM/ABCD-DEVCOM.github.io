"use strict";(self.webpackChunkabcd_devcom_github_io=self.webpackChunkabcd_devcom_github_io||[]).push([[1358],{28453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>l});var c=r(96540);const s={},d=c.createContext(s);function i(e){const n=c.useContext(d);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),c.createElement(d.Provider,{value:n},e.children)}},42599:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>t});const c=JSON.parse('{"id":"abcd-advanced/format-language/reference/record-access","title":"Record & Field Access","description":"Commands for retrieving data from fields, records, and related databases.","source":"@site/docs/abcd-advanced/format-language/reference/record-access.md","sourceDirName":"abcd-advanced/format-language/reference","slug":"/abcd-advanced/format-language/reference/record-access","permalink":"/docs/3.1/abcd-advanced/format-language/reference/record-access","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/abcd-advanced/format-language/reference/record-access.md","tags":[],"version":"current","frontMatter":{"title":"Record & Field Access","description":"Commands for retrieving data from fields, records, and related databases."},"sidebar":"tutorialSidebar","previous":{"title":"Visual Formatting & Layout","permalink":"/docs/3.1/abcd-advanced/format-language/reference/formatting"},"next":{"title":"String & Numeric Functions","permalink":"/docs/3.1/abcd-advanced/format-language/reference/string-numeric"}}');var s=r(74848),d=r(28453);const i={title:"Record & Field Access",description:"Commands for retrieving data from fields, records, and related databases."},l="Record & Field Access",o={},t=[{value:"Field Selectors",id:"field-selectors",level:2},{value:"<code>v</code> - Field Content",id:"v---field-content",level:3},{value:"<code>d</code> - Dummy Field",id:"d---dummy-field",level:3},{value:"Record Information",id:"record-information",level:2},{value:"<code>mfn</code> - Master File Number",id:"mfn---master-file-number",level:3},{value:"<code>mfnname</code> - Master File Name",id:"mfnname---master-file-name",level:3},{value:"<code>occ</code> - Occurrence Index",id:"occ---occurrence-index",level:3},{value:"<code>nocc</code> - Number of Occurrences",id:"nocc---number-of-occurrences",level:3},{value:"Presence Checks",id:"presence-checks",level:2},{value:"<code>p</code> - Presence Check",id:"p---presence-check",level:3},{value:"<code>a</code> - Absence Check",id:"a---absence-check",level:3},{value:"<code>np</code> - Not Present",id:"np---not-present",level:3},{value:"Relational &amp; Lookups",id:"relational--lookups",level:2},{value:"<code>ref</code> - Record Reference (Link)",id:"ref---record-reference-link",level:3},{value:"<code>l</code> - Key Lookup",id:"l---key-lookup",level:3},{value:"<code>key</code> - Key Postings",id:"key---key-postings",level:3}];function a(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"record--field-access",children:"Record & Field Access"})}),"\n",(0,s.jsx)(n.p,{children:"These commands allow you to extract data from the current record or look up information in other records."}),"\n",(0,s.jsx)(n.h2,{id:"field-selectors",children:"Field Selectors"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.em,{children:["See also: ",(0,s.jsx)(n.a,{href:"../guides/subfields",children:"Field Selectors Guide"})]})}),"\n",(0,s.jsxs)(n.h3,{id:"v---field-content",children:[(0,s.jsx)(n.code,{children:"v"})," - Field Content"]}),"\n",(0,s.jsx)(n.p,{children:"Extracts the value of a variable length field."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Syntax:"})," ",(0,s.jsx)(n.code,{children:"vTag"})," | ",(0,s.jsx)(n.code,{children:"vTag^Subfield"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Modifiers:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"*Offset"}),": Starts extraction from a specific character position."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:".Length"}),": Extracts a limited number of characters."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-pft",children:"v10          /* Content of Tag 10 */\r\nv20^a        /* Content of subfield 'a' of Tag 20 */\r\nv10*2.5      /* 5 characters starting from position 2 */\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"d---dummy-field",children:[(0,s.jsx)(n.code,{children:"d"})," - Dummy Field"]}),"\n",(0,s.jsx)(n.p,{children:"Checks if a field exists without displaying it. Often used to control repeatable groups."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Syntax:"})," ",(0,s.jsx)(n.code,{children:"dTag"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:"(d10, v10/)"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"record-information",children:"Record Information"}),"\n",(0,s.jsxs)(n.h3,{id:"mfn---master-file-number",children:[(0,s.jsx)(n.code,{children:"mfn"})," - Master File Number"]}),"\n",(0,s.jsx)(n.p,{children:"Displays the unique identification number of the current record."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Syntax:"})," ",(0,s.jsx)(n.code,{children:"mfn"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Format:"})," Returns a numeric value (e.g., 1, 1024). It can be formatted with ",(0,s.jsx)(n.code,{children:"f()"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:"f(mfn, 6, 0)"})," -> ",(0,s.jsx)(n.code,{children:"001024"})]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"mfnname---master-file-name",children:[(0,s.jsx)(n.code,{children:"mfnname"})," - Master File Name"]}),"\n",(0,s.jsx)(n.p,{children:"Returns the name of the database file currently being accessed."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Syntax:"})," ",(0,s.jsx)(n.code,{children:"mfnname"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:'"Database: " mfnname'})]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"occ---occurrence-index",children:[(0,s.jsx)(n.code,{children:"occ"})," - Occurrence Index"]}),"\n",(0,s.jsx)(n.p,{children:"Returns the number of the current occurrence being processed within a repeatable group."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Syntax:"})," ",(0,s.jsx)(n.code,{children:"occ"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:'v10, " (Occ: " occ ")"'})]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"nocc---number-of-occurrences",children:[(0,s.jsx)(n.code,{children:"nocc"})," - Number of Occurrences"]}),"\n",(0,s.jsx)(n.p,{children:"Returns the total number of occurrences of a repeatable field in the record."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Syntax:"})," ",(0,s.jsx)(n.code,{children:"nocc(vTag)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:'"Total authors: " f(nocc(v70), 2, 0)'})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"presence-checks",children:"Presence Checks"}),"\n",(0,s.jsxs)(n.h3,{id:"p---presence-check",children:[(0,s.jsx)(n.code,{children:"p"})," - Presence Check"]}),"\n",(0,s.jsxs)(n.p,{children:["Returns ",(0,s.jsx)(n.strong,{children:"True"})," (non-zero) if the field or subfield is present."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Syntax:"})," ",(0,s.jsx)(n.code,{children:"p(vTag)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:'if p(v10) then "Title present" fi'})]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"a---absence-check",children:[(0,s.jsx)(n.code,{children:"a"})," - Absence Check"]}),"\n",(0,s.jsxs)(n.p,{children:["Returns ",(0,s.jsx)(n.strong,{children:"True"})," if the field or subfield is absent (not present)."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Syntax:"})," ",(0,s.jsx)(n.code,{children:"a(vTag)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Equivalent:"})," ",(0,s.jsx)(n.code,{children:"NOT p(vTag)"})]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"np---not-present",children:[(0,s.jsx)(n.code,{children:"np"})," - Not Present"]}),"\n",(0,s.jsxs)(n.p,{children:["Similar to ",(0,s.jsx)(n.code,{children:"a()"}),", checks if a field is not present."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Syntax:"})," ",(0,s.jsx)(n.code,{children:"np(vTag)"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"relational--lookups",children:"Relational & Lookups"}),"\n",(0,s.jsxs)(n.h3,{id:"ref---record-reference-link",children:[(0,s.jsx)(n.code,{children:"ref"})," - Record Reference (Link)"]}),"\n",(0,s.jsxs)(n.p,{children:["Executes a format or expression in the context of ",(0,s.jsx)(n.em,{children:"another"})," record, identified by its MFN."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Syntax:"})," ",(0,s.jsx)(n.code,{children:"ref(MFN, Format)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Usage:"})," Essential for joining databases or looking up linked records."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-pft",children:"/* Lookup MFN 10 in the current DB */\r\nref(10, v20)\r\n\r\n/* Lookup MFN 5 in 'USERS' database */\r\nref(['USERS']5, v30)\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"l---key-lookup",children:[(0,s.jsx)(n.code,{children:"l"})," - Key Lookup"]}),"\n",(0,s.jsx)(n.p,{children:"Searches the inverted file for a term and returns the MFN of the first record found."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Syntax:"})," ",(0,s.jsx)(n.code,{children:"l('Term')"})," | ",(0,s.jsx)(n.code,{children:"l('Prefix' vTag)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Returns:"})," The MFN of the record containing the term, or 0 if not found."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-pft",children:"/* Find record where title is 'Hamlet' */\r\nref( l('Hamlet'), v70 )\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"key---key-postings",children:[(0,s.jsx)(n.code,{children:"key"})," - Key Postings"]}),"\n",(0,s.jsx)(n.p,{children:"Returns the number of hits (postings) for a given term in the inverted file."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Syntax:"})," ",(0,s.jsx)(n.code,{children:"npost('Term')"})," (Note: command name depends on CISIS version, often ",(0,s.jsx)(n.code,{children:"key"})," or ",(0,s.jsx)(n.code,{children:"npost"}),")"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);